{
  "query": "CREATE TABLE IF NOT EXISTS reports (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  studyId INT NOT NULL,\n  title VARCHAR(500) NOT NULL,\n  executiveSummary TEXT,\n  keyFindings JSON,\n  audienceInsights JSON,\n  behavioralAnalysis JSON,\n  recommendations JSON,\n  chartData JSON,\n  status ENUM('generating', 'completed', 'failed') NOT NULL DEFAULT 'generating',\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS subscriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  stripeSubscriptionId VARCHAR(255) NOT NULL,\n  stripePriceId VARCHAR(255) NOT NULL,\n  tier ENUM('pro', 'max') NOT NULL,\n  status ENUM('active', 'canceled', 'past_due', 'incomplete') NOT NULL DEFAULT 'active',\n  currentPeriodStart TIMESTAMP NULL,\n  currentPeriodEnd TIMESTAMP NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS token_purchases (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  stripePaymentIntentId VARCHAR(255) NOT NULL,\n  amount INT NOT NULL,\n  tokensGranted INT NOT NULL,\n  bonusTokens INT NOT NULL DEFAULT 0,\n  status ENUM('pending', 'completed', 'failed') NOT NULL DEFAULT 'pending',\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3jawnfRKz91xjDg.afe20a0f6338 --database mfLvC6vVaz4p7UtAcCW6Hw --execute CREATE TABLE IF NOT EXISTS reports (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  studyId INT NOT NULL,\n  title VARCHAR(500) NOT NULL,\n  executiveSummary TEXT,\n  keyFindings JSON,\n  audienceInsights JSON,\n  behavioralAnalysis JSON,\n  recommendations JSON,\n  chartData JSON,\n  status ENUM('generating', 'completed', 'failed') NOT NULL DEFAULT 'generating',\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS subscriptions (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  stripeSubscriptionId VARCHAR(255) NOT NULL,\n  stripePriceId VARCHAR(255) NOT NULL,\n  tier ENUM('pro', 'max') NOT NULL,\n  status ENUM('active', 'canceled', 'past_due', 'incomplete') NOT NULL DEFAULT 'active',\n  currentPeriodStart TIMESTAMP NULL,\n  currentPeriodEnd TIMESTAMP NULL,\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  updatedAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP\n);\n\nCREATE TABLE IF NOT EXISTS token_purchases (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  stripePaymentIntentId VARCHAR(255) NOT NULL,\n  amount INT NOT NULL,\n  tokensGranted INT NOT NULL,\n  bonusTokens INT NOT NULL DEFAULT 0,\n  status ENUM('pending', 'completed', 'failed') NOT NULL DEFAULT 'pending',\n  createdAt TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 439
}